<!-- public/area_add.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>AREA 추가</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h2 id="areaAddTitle">AREA 추가</h2>
        </div>

        <form id="areaAddForm">
            <label for="areaName">지역 이름:</label><br>
            <input type="text" id="areaName" name="areaName" required><br><br>
            <label for="areaLocation">위치:</label><br>
            <input type="text" id="areaLocation" name="areaLocation" value="0.0, 0.0"><br><br>
            <button type="submit">저장</button>
            <button type="button", data-path="managementView">취소</button>
            
        </form>
    </div>

    <!-- 모달 로드 -->
    <div id="modal"></div>

    <script src="scripts/modal.js"></script>
    <script src="scripts/area_add.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (!window.BASE_PATH) {
                // 현재 URL이 포트를 포함하는지 확인
                const isPortPresent = !!window.location.port;
                // basePath 설정: 포트 포함 시 `/`, 없으면 `'/basePath/'` 포맷 유지
                const pathSegments = window.location.pathname.split('/').filter(Boolean); // 빈 요소 제거
                window.BASE_PATH = isPortPresent ? '/' : `/${pathSegments[0]}/`;
                console.log('Base path:', window.BASE_PATH);
            }
            // ✅ 모든 `data-path` 속성이 있는 버튼에 `BASE_PATH` 적용
            document.querySelectorAll("button[data-path]").forEach(button => {
                const pagePath = button.getAttribute("data-path");
                button.onclick = () => {
                window.location.href = `${window.BASE_PATH}${pagePath}`;
                };
            });
        });
    </script>
</body>
</html>
