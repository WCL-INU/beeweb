<!-- public/device_add.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>DEVICE 추가</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h2 id="deviceAddTitle">DEVICE 추가</h2>
        </div>
        <form id="deviceAddForm">
            <label for="deviceName">디바이스 이름:</label><br>
            <input type="text" id="deviceName" name="deviceName" required><br><br>
            <label for="deviceType">디바이스 타입:</label><br>
            <select id="deviceType" name="deviceType" required>
                <option value="">타입을 선택하세요</option>
                <option value="1">CAMERA</option>
                <option value="2">SENSOR</option>
                <option value="3">INOUT</option>
            </select><br><br>
            <button type="submit">저장</button>
            <button type="button" onclick="window.history.back()">취소</button>
        </form>
    </div>

    <!-- 모달 로드 -->
    <div id="modal"></div>

    <script src="scripts/modal.js"></script>
    <script src="scripts/device_add.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (!window.BASE_PATH) {
                // 현재 URL이 포트를 포함하는지 확인
                const isPortPresent = !!window.location.port;
                // basePath 설정: 포트 포함 시 `/`, 없으면 `'/basePath/'` 포맷 유지
                const pathSegments = window.location.pathname.split('/').filter(Boolean); // 빈 요소 제거
                window.BASE_PATH = isPortPresent ? '/' : `/${pathSegments[0]}/`;
                console.log('Base path:', window.BASE_PATH);
            };
        });
    </script>
</body>
</html>
